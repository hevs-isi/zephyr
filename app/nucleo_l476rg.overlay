/*
* Copyright (c) 2018 Nordic Semiconductor ASA
*
* SPDX-License-Identifier: Apache-2.0
*/

&usart1 {
	current-speed = <115200>;
	pinctrl-0 = <&usart1_pins_b>;
	pinctrl-names = "default";
   status = "ok";
};

&usart3 {
   current-speed = <9600>;
   pinctrl-0 = <&usart3_pins_b>;
   pinctrl-names = "default";
   status = "ok";
};

&i2c1 {
	eeprom@50 {
		compatible = "atmel,at24";
		reg = <0x50>;
		label = "EEPROM_SLAVE_0";
		size = <1>;
	};
};

&adc1 {
	status = "ok";
};

&iwdg {
	status = "ok";
};

&spi3 {
        status = "ok";
        cs-gpios = <&gpioa 15 0>;

        sdhc0: sdhc@0 {
                compatible = "zephyr,mmc-spi-slot";
                reg = <0>;
                status = "ok";
                label = "SDHC0";
                spi-max-frequency = <24000000>;
        };
};

/ {
	leds {
		compatible = "gpio-leds";
		green_led_1: led_1 {
			gpios = <&gpioc 6 GPIO_INT_ACTIVE_HIGH>;
			label = "User LD1";
		};
		red_led_2: led_2 {
			gpios = <&gpioc 7 GPIO_INT_ACTIVE_HIGH>;
			label = "User LD2";
		};

		sd_enable: led_3 {
			gpios = <&gpioh 0 (GPIO_DIR_IN | STM32_PUSHPULL_PULLUP)>;
			label = "sd_enable";
		};
	};

	gpio_keys {
		compatible = "gpio-keys";
		user_button0: button0 {
			label = "User button 0";
			gpios = <&gpioc 11 GPIO_INT_ACTIVE_LOW>;
		};
        user_button1: button1 {
			label = "User button 1";
			gpios = <&gpiob 15 GPIO_INT_ACTIVE_LOW>;
		};
	};

	aliases {
		led0 = &green_led_1;
        led1 = &red_led_2;
		sw0 = &user_button0;
        sw1 = &user_button1;
	};
};
